---
layout: post
title: 判断服务是否运行
category: Android开发
tags: [service , SystemService ]
---
{% include JB/setup %}
       
   /**  
   * 用来判断服务是否运行.  
   * @param context  
   * @param className 判断的服务名字：包名+类名  
   * @return true 在运行, false 不在运行  
   */  
  
public boolean isServiceRunning(Context context,String className) {  
  
boolean isRunning = false;  
  
ActivityManager activityManager =  
  
(ActivityManager)context.getSystemService(ACTIVITY_SERVICE);  
  
ListserviceList  
  
= activityManager.getRunningServices(Integer.MAX_VALUE);  
  
if (!(serviceList.size()&gt;0)) {  
  
return false;  
  
}  
  
for (int i=0; i  
  
if (serviceList.get(i).service.getClassName().equals(className) == true) {  
  
isRunning = true;  
  
break;  
  
}  
  
}  
  
Log.i(TAG,"service is running?=="+isRunning);  
  
return isRunning;  
  
}  
 