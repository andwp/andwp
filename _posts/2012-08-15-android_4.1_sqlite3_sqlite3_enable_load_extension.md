---
layout: post
title: android 4.1 sqlite3 sqlite3_enable_load_extension
category: Android开发
tags: [sqlite3_enable_load_extension , sqlite3 , jb , android4.1 ]
---
{% include JB/setup %}
在android4.1上adb shell 运行sqlite3报错。  
  
     root@android:/system/xbin # sqlite3                                          
reloc_library[1306]: 15143 cannot locate 'sqlite3_enable_load_extension'...  
CANNOT LINK EXECUTABLE  
   
  
初步判定是版本不兼容android4.1所致。  
在android sdk中的tools文件找到sqlite3 cp到手机中，结果报错，，   
     /system/bin/sh: /system/xbin/sqlite3: not executable: magic 7F45   
  
这才想起这个sqlite3是pc环境中运行的。。。  
用android sdk新建一个android 4.1版本的模拟器，运行。  
先把/system/xbin/中的sqlite3 pull到pc中，然后再push到手机里。  
（PS：要push file到系统文件夹，必须先把设备挂载成可写的  
       
adb shell  
# mount -o remount,rw -t yaffs2 /dev/block/mtdblock3 /system  # 挂载/sysytem为可写   
       
#mount -o remount,ro -t yaffs2 /dev/block/mtdblock3 /system # 挂载为只读  
   
）  
  
最后在还原成只读之前不要忘了给新push的sqlite3文件赋执行权限  
       
#chmod 755 /system/xbin/sqlite3  
   
验证是否有执行权限  
       
# ll sqlite3                                           
-rwxr-xr-x root     root        36860 2012-08-15 21:45 sqlite3   
 